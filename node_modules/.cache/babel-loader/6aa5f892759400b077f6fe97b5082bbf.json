{"ast":null,"code":"import _regeneratorRuntime from\"/home/wekancode/magicurl-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/wekancode/magicurl-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/wekancode/magicurl-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import'./Styles/App.css';import{useForm}from'react-hook-form';import{Card,Button}from'react-bootstrap';import{Link,useHistory}from'react-router-dom';import axios from'axios';import minion from'./Images/minion.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){var _useForm=useForm(),handleSubmit=_useForm.handleSubmit,register=_useForm.register;var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),err=_React$useState2[0],seterr=_React$useState2[1];var history=useHistory();var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var value,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:value={\"username\":data.username,\"password\":data.password};console.log(value);_context.next=4;return axios.post(\"http://13.233.129.83:3000/auth/signin\",value).then(function(res){console.log(res);localStorage.setItem('accesstoken',res.data.accessToken);history.push('/generatelink');}).catch(function(err){console.log(err);seterr(1);});case 4:res=_context.sent;case 5:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(onSubmit),children:/*#__PURE__*/_jsxs(Card,{className:\"min-card\",children:[/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:minion}),/*#__PURE__*/_jsxs(Card.Body,{variant:\"center\",children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Login\"}),err===1?/*#__PURE__*/_jsx(\"p\",{align:\"left\",style:{color:'red'},children:\"Invalid username or password\"}):null,/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:/*#__PURE__*/_jsx(\"h6\",{align:\"left\",children:\"Need an account?\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Card.Text,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"input\",name:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",className:\"textbox\",required:true,ref:register({required:'Username is required'})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"input\",name:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"textbox\",required:true,ref:register({required:'Password is required'})})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"btn\",type:\"submit\",children:\"Login\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"/resetpassword\",children:/*#__PURE__*/_jsx(\"h6\",{align:\"center\",children:\"Forgot Password?\"})})]})]})})});};export default Login;","map":{"version":3,"sources":["/home/wekancode/magicurl-frontend/src/components/login.js"],"names":["React","useForm","Card","Button","Link","useHistory","axios","minion","Login","props","handleSubmit","register","useState","err","seterr","history","onSubmit","data","value","username","password","console","log","post","then","res","localStorage","setItem","accessToken","push","catch","color","required"],"mappings":"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","sourcesContent":["import React from 'react'\nimport './Styles/App.css'\nimport {useForm} from 'react-hook-form'\nimport {Card,Button} from 'react-bootstrap'\nimport {Link,useHistory} from 'react-router-dom'\nimport axios from 'axios'\nimport minion from './Images/minion.png'\nconst Login = (props) => {\n  const {handleSubmit,register} = useForm();\n  const[ err,seterr] = React.useState(0);\n  const history = useHistory();\n  const onSubmit = async(data) => {\n    const value= \n      {\n        \"username\": data.username,\n         \"password\":data.password  \n        }\n    console.log(value);\n     const res = await axios.post(`http://13.233.129.83:3000/auth/signin`,value) \n    .then(res => {\n      console.log(res);\n      localStorage.setItem('accesstoken',res.data.accessToken)\n      history.push('/generatelink')\n    })\n    .catch(err => {\n      console.log(err);\n      seterr(1);\n    })\n  }\n  return (\n    \n    <div className=\"login\"> \n   \n    <form onSubmit={handleSubmit(onSubmit)}>\n    <Card className=\"min-card\">\n  <Card.Img variant=\"top\" src={minion} />\n  <Card.Body variant=\"center\">\n    <Card.Title>Login</Card.Title>\n    {err === 1 ? <p align=\"left\" style={{color:'red'}}>Invalid username or password</p> : null}\n   <Link to=\"/signup\"><h6 align=\"left\">Need an account?</h6></Link><br/>\n    <Card.Text>\n      <label htmlFor=\"input\" name=\"username\">Username</label>\n      <input type=\"text\" name=\"username\" className=\"textbox\" required ref={register({required:'Username is required'})}/>\n      <label htmlFor=\"input\" name=\"password\">Password</label>\n      <input type=\"password\" name=\"password\" className=\"textbox\" required ref={register({required:'Password is required'})}/>\n    </Card.Text>\n    <Button variant=\"primary\" className=\"btn\" type=\"submit\">Login</Button><br/><br/>\n    <Link to=\"/resetpassword\"><h6 align=\"center\">Forgot Password?</h6></Link>\n  </Card.Body>\n</Card>\n     </form>\n      \n   \n    </div>\n  )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}