{"ast":null,"code":"import _regeneratorRuntime from\"/home/wekancode/magicurl-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/wekancode/magicurl-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/wekancode/magicurl-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{Row,Col}from'react-bootstrap';import minion from'./Images/minion.png';import{useForm}from'react-hook-form';import axios from'axios';import{useState}from'react';import{useHistory,Link}from'react-router-dom';import{RiShutDownLine}from'react-icons/ri';import minionsad from'./Images/minionsad.png';import'./Styles/style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Gen_link(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setmessage=_useState2[1];var _useState3=useState('message'),_useState4=_slicedToArray(_useState3,2),type=_useState4[0],settype=_useState4[1];var _useState5=useState(60),_useState6=_slicedToArray(_useState5,2),time=_useState6[0],settime=_useState6[1];var _useState7=useState('https'),_useState8=_slicedToArray(_useState7,2),link=_useState8[0],setlink=_useState8[1];var history=useHistory();var _useState9=useState(localStorage.getItem('accesstoken')),_useState10=_slicedToArray(_useState9,2),accesstoken=_useState10[0],setaccesstoken=_useState10[1];// console.log(accesstoken);\nvar _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var x,value,headers,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:x=Number(time);value={\"type\":type,\"data\":message,\"selfDestructTimer\":x};headers={'Content-Type':'application/json','Authorization':\"Bearer \".concat(accesstoken)};console.log(value);_context.next=6;return axios.post('http://13.232.38.254:3000/magic-url',value,{headers:headers}).then(function(res){console.log(res.data.Url);localStorage.setItem('url',res.data.Url);history.push('/displayurl');}).catch(function(err){console.error(err);});case 6:res=_context.sent;case 7:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(){return _ref.apply(this,arguments);};}();return accesstoken?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"gen-link\",children:/*#__PURE__*/_jsxs(Row,{style:{margin:'0px'},children:[/*#__PURE__*/_jsxs(\"a\",{className:\"log\",href:\"/\",onClick:function onClick(){return localStorage.clear();},children:[/*#__PURE__*/_jsx(RiShutDownLine,{style:{color:'white'}}),\"\\xA0\\xA0Logout\"]}),/*#__PURE__*/_jsx(Col,{md:\"9\",sm:\"12\",children:/*#__PURE__*/_jsx(Row,{style:{margin:'0px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card1\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"head\",children:[\"Create a disappearing \",/*#__PURE__*/_jsxs(\"select\",{className:\"select\",value:type,onChange:function onChange(e){return settype(e.currentTarget.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"message\",children:\"message\"}),/*#__PURE__*/_jsx(\"option\",{value:\"link\",children:\"link\"})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(Row,{style:{margin:'0px'},children:[/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",id:\"message\",className:\"text-inp\",onChange:function onChange(e){return setmessage(e.currentTarget.value);},placeholder:\"Type your message here\",name:\"message\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",type:\"submit\",children:\"Generate\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"time\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"time\",children:\"Self Destructing-Time \"}),/*#__PURE__*/_jsxs(\"select\",{value:time,onChange:function onChange(e){return settime(e.currentTarget.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"60\",children:\"1 minute\"}),/*#__PURE__*/_jsx(\"option\",{value:\"120\",children:\"2 minutes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"300\",children:\"5 minutes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"600\",children:\"10 minutes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1800\",children:\"30 minutes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3600\",children:\"1 hour\"}),/*#__PURE__*/_jsx(\"option\",{value:\"86400\",children:\"1 day\"}),/*#__PURE__*/_jsx(\"option\",{value:\"604800\",children:\"1 week\"})]})]})]})]})})}),/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsx(\"img\",{src:minion,alt:\"minion\",className:\"mini\"})})]})})}):/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'15%',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{align:\"center\",children:\"Session Timed out!!\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h4\",{align:\"center\",children:\"We cannot find the page you are looking for!\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"p\",{align:\"center\",children:\"Go Back to Login\"})}),/*#__PURE__*/_jsxs(Row,{style:{margin:'0px',marginLeft:'30%'},children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:minionsad,align:\"center\"}),\" \"]})]});}export default Gen_link;","map":{"version":3,"sources":["/home/wekancode/magicurl-frontend/src/components/Generatelink.js"],"names":["React","Row","Col","minion","useForm","axios","useState","useHistory","Link","RiShutDownLine","minionsad","Gen_link","props","message","setmessage","type","settype","time","settime","link","setlink","history","localStorage","getItem","accesstoken","setaccesstoken","register","handleSubmit","errors","onSubmit","x","Number","value","headers","console","log","post","then","res","data","Url","setItem","push","catch","err","error","margin","clear","color","e","currentTarget","marginTop","alignItems","marginLeft"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Row, Col } from 'react-bootstrap'\nimport minion from './Images/minion.png'\nimport { useForm } from 'react-hook-form'\nimport axios from 'axios'\nimport { useState } from 'react'\nimport {useHistory,Link} from 'react-router-dom'\nimport {RiShutDownLine} from 'react-icons/ri'\nimport minionsad from './Images/minionsad.png'\nimport './Styles/style.css'\nfunction Gen_link(props) {\n    const [message, setmessage] = useState('');\n    const [type, settype] = useState('message')\n    const [time, settime] = useState(60)\n    const [link, setlink] = useState('https')\n    const history = useHistory();\n    const [accesstoken,setaccesstoken] = useState(localStorage.getItem('accesstoken'))\n    // console.log(accesstoken);\n    const { register, handleSubmit, errors } = useForm();\n    const onSubmit = async () => {\n        var x = Number(time);\n        const value = {\n            \"type\": type,\n            \"data\": message,\n            \"selfDestructTimer\": x\n\n        }\n        const headers = {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${accesstoken}`\n          }\n        console.log(value);\n        const res = await axios.post('http://13.232.38.254:3000/magic-url', value,{headers:headers})\n            .then(res => {\n                console.log(res.data.Url);\n                localStorage.setItem('url',res.data.Url);\n                history.push('/displayurl');\n            })\n            .catch(err => {\n                console.error(err);\n            })\n    }\n\n    return (\n        accesstoken ? \n        <div>\n            <div className='gen-link'>\n                \n                <Row style={{ margin: '0px' }}>\n                   <a className='log' href=\"/\" onClick={()=> localStorage.clear()}><RiShutDownLine style={{color:'white'}}/>&nbsp;&nbsp;Logout</a>\n                    <Col md=\"9\" sm='12'>\n                        <Row style={{ margin: '0px' }}>\n                            <div className='card1'>\n                                <p className='head'>\n                                    Create a disappearing <select className=\"select\" value={type} onChange={e => settype(e.currentTarget.value)}><option value='message'>message</option><option value='link'>link</option></select>\n                                </p>\n                                <form onSubmit={handleSubmit(onSubmit)}>\n                                    <Row style={{ margin: '0px' }}>\n                                        <input required type='text' id='message' className='text-inp' onChange={e => setmessage(e.currentTarget.value)} placeholder='Type your message here' name='message' /> <br />\n                                        <button className=\"button\" type='submit'>Generate</button>\n                                    </Row>\n                                    <div className='time'>\n                                        <h4 className='time'>Self Destructing-Time </h4>\n                                        <select value={time} onChange={e => settime(e.currentTarget.value)}>\n                                            <option value=\"60\">1 minute</option>\n                                            <option value='120'>2 minutes</option>\n                                            <option value='300'>5 minutes</option>\n                                            <option value='600'>10 minutes</option>\n                                            <option value='1800' >30 minutes</option>\n                                            <option value='3600'>1 hour</option>\n                                            <option value='86400'>1 day</option>\n                                            <option value='604800'>1 week</option>\n                                        </select>\n                                    </div>\n                                </form>\n                            </div>\n                        </Row>\n                    </Col>\n\n                    <Col md='3'>\n                        <img src={minion} alt='minion' className='mini' />\n                    </Col>\n                </Row>\n            </div>\n            {/* <Create link={link} /> */}\n        </div > : <div style={{marginTop:'15%',alignItems:'center'}}>\n            \n            <h2 align=\"center\">Session Timed out!!</h2><br/>\n            <h4 align=\"center\">We cannot find the page you are looking for!</h4><br/>\n            <Link to=\"/\"><p align=\"center\">Go Back to Login</p></Link>\n            <Row style={{margin:'0px',marginLeft:'30%'}}> <img  src={minionsad} align=\"center\" ></img> </Row>\n           \n        </div>\n    )\n}\nexport default Gen_link;\n"]},"metadata":{},"sourceType":"module"}